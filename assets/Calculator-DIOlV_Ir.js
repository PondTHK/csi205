import{r as l,j as s}from"./index-hboBm3yt.js";function E(){const[d,t]=l.useState("0"),[r,o]=l.useState("S1"),[n,u]=l.useState(""),[j,h]=l.useState(""),[S,b]=l.useState(""),k=l.useMemo(()=>n==="+",[n]),f=l.useMemo(()=>n==="-",[n]),m=e=>e.length<=9?e:e.slice(0,9),x=e=>{r==="S1"?(t(String(e)),o("S2")):r==="S2"?t(i=>m(i+String(e))):r==="S3"?(h(d),t(String(e)),o("S4")):r==="S4"&&t(i=>m(i+String(e)))},v=e=>{if(r!=="S1")switch(r){case"S2":u(e),o("S3");break;case"S3":case"S4":u(e);break}},p=()=>{if(!n)return;const e=Number(j||d),i=Number(S||d);let c=0;switch(n){case"+":c=e+i;break;case"-":c=e-i;break}const C=m(String(c));t(C),h(String(c)),b(String(i)),o("S2")},N=()=>{r!=="S1"&&(t("0"),u(""),h(""),b(""),o("S1"))};l.useEffect(()=>{const e=i=>{const{key:c}=i;c>="0"&&c<="9"?x(parseInt(c,10)):c==="+"||c==="-"?v(c):c==="Enter"||c==="="?p():c==="Escape"&&N()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[d,r,n,j,S]);const a=({variant:e="secondary",className:i="",...c})=>s.jsx("button",{...c,className:`btn btn-${e} ${i}`}),g=k?"warning":"success",y=f?"warning":"success";return s.jsx("div",{className:"container my-5",children:s.jsxs("div",{className:"mx-auto border border-3 rounded-4 shadow-sm p-3",style:{maxWidth:480,background:"#ddd"},children:[s.jsx("div",{className:"bg-info-subtle rounded-3 px-4 py-3 mb-3",children:s.jsx("h1",{className:"m-0 text-end text-dark",style:{fontSize:36},children:d})}),s.jsx("div",{className:"bg-light rounded-3 p-3",children:s.jsxs("div",{className:"row row-cols-5 g-2",children:[s.jsx("div",{className:"col",children:s.jsx(a,{variant:"success",disabled:!0,children:"MC"})}),s.jsx("div",{className:"col",children:s.jsx(a,{variant:"success",disabled:!0,children:"MR"})}),s.jsx("div",{className:"col",children:s.jsx(a,{variant:"success",disabled:!0,children:"M+"})}),s.jsx("div",{className:"col",children:s.jsx(a,{variant:"success",disabled:!0,children:"M-"})}),s.jsx("div",{className:"col",children:s.jsx(a,{variant:"danger",onClick:N,children:"CE"})}),[7,8,9].map(e=>s.jsx("div",{className:"col",children:s.jsx(a,{variant:"primary",onClick:()=>x(e),children:e})},e)),s.jsx("div",{className:"col",children:s.jsx(a,{variant:"success",disabled:!0,children:"÷"})}),s.jsx("div",{className:"col",children:s.jsx(a,{variant:"success",disabled:!0,children:"√"})}),[4,5,6].map(e=>s.jsx("div",{className:"col",children:s.jsx(a,{variant:"primary",onClick:()=>x(e),children:e})},e)),s.jsx("div",{className:"col",children:s.jsx(a,{variant:"success",disabled:!0,children:"x"})}),s.jsx("div",{className:"col",children:s.jsx(a,{variant:"success",disabled:!0,children:"%"})}),[1,2,3].map(e=>s.jsx("div",{className:"col",children:s.jsx(a,{variant:"primary",onClick:()=>x(e),children:e})},e)),s.jsx("div",{className:"col",children:s.jsx(a,{variant:y,onClick:()=>v("-"),"aria-label":"minus",children:"—"})}),s.jsx("div",{className:"col",children:s.jsx(a,{variant:"success",disabled:!0,children:"1/x"})}),s.jsx("div",{className:"col",children:s.jsx(a,{variant:"primary",onClick:()=>x(0),children:"0"})}),s.jsx("div",{className:"col",children:s.jsx(a,{variant:"primary",disabled:!0,children:"."})}),s.jsx("div",{className:"col",children:s.jsx(a,{variant:"primary",disabled:!0,children:"+/-"})}),s.jsx("div",{className:"col",children:s.jsx(a,{variant:g,onClick:()=>v("+"),"aria-label":"plus",children:"+"})}),s.jsx("div",{className:"col",children:s.jsx(a,{variant:"success",onClick:p,children:"="})})]})})]})})}export{E as default};
