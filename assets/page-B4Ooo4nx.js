import{u as C,a as U,b as y,r as t,j as e,M as A}from"./index-hboBm3yt.js";const E=[{label:"รายวิชา",value:"CSI205"},{label:"Session",value:"003"}];function P(){const l=C(),v=U(),{login:g,isAuthenticated:o}=y(),[m,i]=t.useState(""),[d,c]=t.useState(""),[h,n]=t.useState(""),[p,x]=t.useState(!1),a=A[0],r=v.state?.from,u=r?`${r.pathname}${r.search}${r.hash}`:"/";t.useEffect(()=>{o&&l(u,{replace:!0})},[o,l,u]);const f=async s=>{s.preventDefault(),n("");const j=m.trim(),b=d.trim();if(!j||!b){n("กรุณากรอก Username และ Password");return}x(!0),await new Promise(w=>setTimeout(w,600));const N=g({username:j,password:b});if(x(!1),!N){n("Username หรือรหัสผ่านไม่ถูกต้อง");return}i(""),c(""),l(u,{replace:!0})},S=()=>{a&&(i(a.username),c(a.password),n(""))};return e.jsx("section",{className:"auth-page auth-page-ambient",children:e.jsxs("div",{className:"auth-card auth-card-extended",children:[e.jsx("div",{className:"auth-metadata",children:E.map(s=>e.jsxs("div",{className:"auth-metadata-item",children:[e.jsx("span",{children:s.label}),e.jsx("strong",{children:s.value})]},s.label))}),a&&e.jsxs("div",{className:"auth-sample",children:[e.jsxs("div",{children:[e.jsx("p",{className:"auth-sample-label",children:"simple account"}),e.jsxs("p",{className:"auth-sample-value",children:[a.username," / ",a.password]})]}),e.jsx("button",{type:"button",className:"auth-ghost-btn",onClick:S,children:"กรอกให้อัตโนมัติ"})]}),h&&e.jsx("div",{className:"auth-error",children:h}),e.jsxs("form",{className:"auth-form",onSubmit:f,children:[e.jsxs("label",{children:["Username",e.jsx("input",{type:"text",placeholder:"เช่น 67160165",value:m,onChange:s=>i(s.target.value)})]}),e.jsxs("label",{children:["รหัสผ่าน",e.jsx("input",{type:"password",placeholder:"••••",value:d,onChange:s=>c(s.target.value)})]}),e.jsx("div",{className:"auth-actions",children:e.jsx("button",{type:"submit",className:"auth-submit",disabled:p,children:p?"กำลังเข้าสู่ระบบ...":"เข้าสู่ระบบ"})})]})]})})}export{P as default};
